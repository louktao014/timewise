import{a as P}from"./chunk-6Z5PF4MW.js";import{a as T,b as N,c as k,d as I,e as j,f as B,h as W}from"./chunk-EPUA5NBH.js";import{j as M}from"./chunk-6U5M2IFZ.js";import{$a as e,Ab as b,Bb as h,Eb as p,Fb as u,Ga as O,Kb as D,T as y,Y as S,Ya as c,Z as q,Za as g,a as v,ab as t,b as x,fb as E,ga as R,jb as f,lb as C,ub as n,va as o,vb as s,zb as _}from"./chunk-CXIB2FIF.js";var w=(l,r)=>r.id;function F(l,r){if(l&1){let i=E();e(0,"tr")(1,"td"),n(2),t(),e(3,"td"),n(4),p(5,"date"),t(),e(6,"td"),n(7),p(8,"date"),t(),e(9,"td"),n(10),t(),e(11,"td")(12,"button",14),f("click",function(){let m=S(i).$implicit,d=C();return q(d.approveRequest(m.id))}),n(13,"Approve"),t(),e(14,"button",14),f("click",function(){let m=S(i).$implicit,d=C();return q(d.rejectRequest(m.id))}),n(15,"Reject"),t()()()}if(l&2){let i=r.$implicit;o(2),s(i.employeeName),o(2),s(u(5,4,i.startDate,"shortDate")),o(3),s(u(8,7,i.endDate,"shortDate")),o(3),s(i.reason)}}function V(l,r){if(l&1&&(e(0,"tr")(1,"td"),n(2),t(),e(3,"td"),n(4),p(5,"date"),t(),e(6,"td"),n(7),p(8,"date"),t(),e(9,"td"),n(10),t()()),l&2){let i=r.$implicit;o(2),s(i.employeeName),o(2),s(u(5,4,i.startDate,"shortDate")),o(3),s(u(8,7,i.endDate,"shortDate")),o(3),s(i.reason)}}function L(l,r){if(l&1&&(e(0,"tr")(1,"td"),n(2),t(),e(3,"td"),n(4),p(5,"date"),t(),e(6,"td"),n(7),p(8,"date"),t(),e(9,"td"),n(10),t()()),l&2){let i=r.$implicit;o(2),s(i.employeeName),o(2),s(u(5,4,i.startDate,"shortDate")),o(3),s(u(8,7,i.endDate,"shortDate")),o(3),s(i.reason)}}var A=class l{userService=y(P);timeOffRequests=R([{id:1,employeeName:"John Doe",startDate:new Date("2025-10-20"),endDate:new Date("2025-10-25"),reason:"Vacation",status:"Approved"},{id:2,employeeName:"Jane Smith",startDate:new Date("2025-11-01"),endDate:new Date("2025-11-03"),reason:"Sick Leave",status:"Pending"},{id:3,employeeName:"Peter Jones",startDate:new Date("2025-12-10"),endDate:new Date("2025-12-12"),reason:"Personal",status:"Rejected"}]);newRequest=R({});pendingRequests=D(()=>this.timeOffRequests().filter(r=>r.status==="Pending"));approvedRequests=D(()=>this.timeOffRequests().filter(r=>r.status==="Approved"));rejectedRequests=D(()=>this.timeOffRequests().filter(r=>r.status==="Rejected"));addRequest(){let r=Math.max(...this.timeOffRequests().map(m=>m.id))+1,i=this.userService.currentUser(),a={id:r,employeeName:i?i.name:"New Employee",startDate:new Date(this.newRequest().startDate),endDate:new Date(this.newRequest().endDate),reason:this.newRequest().reason,status:"Pending"};this.timeOffRequests.update(m=>[...m,a]),this.newRequest.set({})}approveRequest(r){this.timeOffRequests.update(i=>i.map(a=>a.id===r?x(v({},a),{status:"Approved"}):a))}rejectRequest(r){this.timeOffRequests.update(i=>i.map(a=>a.id===r?x(v({},a),{status:"Rejected"}):a))}static \u0275fac=function(i){return new(i||l)};static \u0275cmp=O({type:l,selectors:[["app-time-off"]],decls:72,vars:3,consts:[[1,"time-off-container"],[1,"container-wrapper"],[1,"new-request-form"],[3,"ngSubmit"],[1,"form-group"],["for","startDate"],["type","date","id","startDate","name","startDate",3,"ngModelChange","ngModel"],["for","endDate"],["type","date","id","endDate","name","endDate",3,"ngModelChange","ngModel"],["for","reason"],["type","text","id","reason","name","reason",3,"ngModelChange","ngModel"],["type","submit"],[1,"pending-requests"],[1,"history-section"],[3,"click"]],template:function(i,a){i&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),n(4,"New Time Off Request"),t(),e(5,"form",3),f("ngSubmit",function(){return a.addRequest()}),e(6,"div",4)(7,"label",5),n(8,"Start Date"),t(),e(9,"input",6),h("ngModelChange",function(d){return b(a.newRequest().startDate,d)||(a.newRequest().startDate=d),d}),t()(),e(10,"div",4)(11,"label",7),n(12,"End Date"),t(),e(13,"input",8),h("ngModelChange",function(d){return b(a.newRequest().endDate,d)||(a.newRequest().endDate=d),d}),t()(),e(14,"div",4)(15,"label",9),n(16,"Reason"),t(),e(17,"input",10),h("ngModelChange",function(d){return b(a.newRequest().reason,d)||(a.newRequest().reason=d),d}),t()(),e(18,"button",11),n(19,"Submit Request"),t()()(),e(20,"div",12)(21,"h2"),n(22,"Pending Requests"),t(),e(23,"table")(24,"thead")(25,"tr")(26,"th"),n(27,"Employee"),t(),e(28,"th"),n(29,"Start Date"),t(),e(30,"th"),n(31,"End Date"),t(),e(32,"th"),n(33,"Reason"),t(),e(34,"th"),n(35,"Actions"),t()()(),e(36,"tbody"),c(37,F,16,10,"tr",null,w),t()()()(),e(39,"div",13)(40,"h2"),n(41,"Approved Requests"),t(),e(42,"table")(43,"thead")(44,"tr")(45,"th"),n(46,"Employee"),t(),e(47,"th"),n(48,"Start Date"),t(),e(49,"th"),n(50,"End Date"),t(),e(51,"th"),n(52,"Reason"),t()()(),e(53,"tbody"),c(54,V,11,10,"tr",null,w),t()(),e(56,"h2"),n(57,"Rejected Requests"),t(),e(58,"table")(59,"thead")(60,"tr")(61,"th"),n(62,"Employee"),t(),e(63,"th"),n(64,"Start Date"),t(),e(65,"th"),n(66,"End Date"),t(),e(67,"th"),n(68,"Reason"),t()()(),e(69,"tbody"),c(70,L,11,10,"tr",null,w),t()()()()),i&2&&(o(9),_("ngModel",a.newRequest().startDate),o(4),_("ngModel",a.newRequest().endDate),o(4),_("ngModel",a.newRequest().reason),o(20),g(a.pendingRequests()),o(17),g(a.approvedRequests()),o(16),g(a.rejectedRequests()))},dependencies:[W,B,T,N,k,j,I,M],styles:[".time-off-container[_ngcontent-%COMP%]{display:flex;gap:2rem;padding:2rem;flex-wrap:wrap;flex-direction:column}.container-wrapper[_ngcontent-%COMP%]{display:flex;gap:2rem}.new-request-form[_ngcontent-%COMP%]{background-color:var(--card-background);padding:2rem;border-radius:8px;flex:1 1 auto}.new-request-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;color:var(--primary-color)}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;color:var(--text-color)}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.5rem;border:1px solid var(--sidebar-active-link);background-color:var(--sidebar-background);color:var(--text-color);border-radius:4px}button[type=submit][_ngcontent-%COMP%]{background-color:var(--primary-color);color:var(--secondary-color);padding:.5rem 1rem;border:none;border-radius:4px;cursor:pointer;font-weight:700;transition:background-color .3s ease}button[type=submit][_ngcontent-%COMP%]:hover{background-color:var(--primary-color-dark)}.pending-requests[_ngcontent-%COMP%], .history-section[_ngcontent-%COMP%]{flex:1 1 auto;background-color:var(--card-background);padding:2rem;border-radius:8px;color:var(--text-color)}.pending-requests[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .history-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;color:var(--primary-color)}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}thead[_ngcontent-%COMP%]{background-color:var(--sidebar-active-link)}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:.5rem;text-align:left;border-bottom:1px solid var(--sidebar-background)}.history-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:20px}"],changeDetection:0})};export{A as TimeOffComponent};
