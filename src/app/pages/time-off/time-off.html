<div class="time-off-container">
  <div class="new-request-form">
    <h2>New Time Off Request</h2>
    <form (ngSubmit)="addRequest()">
      <div class="form-group">
        <label for="startDate">Start Date</label>
        <input type="date" id="startDate" [(ngModel)]="newRequest().startDate" name="startDate">
      </div>
      <div class="form-group">
        <label for="endDate">End Date</label>
        <input type="date" id="endDate" [(ngModel)]="newRequest().endDate" name="endDate">
      </div>
      <div class="form-group">
        <label for="reason">Reason</label>
        <input type="text" id="reason" [(ngModel)]="newRequest().reason" name="reason">
      </div>
      <button type="submit">Submit Request</button>
    </form>
  </div>

  <div class="pending-requests">
    <h2>Pending Requests</h2>
    <table>
      <thead>
        <tr>
          <th>Employee</th>
          <th>Start Date</th>
          <th>End Date</th>
          <th>Reason</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        @for (request of pendingRequests(); track request.id) {
          <tr>
            <td>{{ request.employeeName }}</td>
            <td>{{ request.startDate | date:'shortDate' }}</td>
            <td>{{ request.endDate | date:'shortDate' }}</td>
            <td>{{ request.reason }}</td>
            <td>
              <button (click)="approveRequest(request.id)">Approve</button>
              <button (click)="rejectRequest(request.id)">Reject</button>
            </td>
          </tr>
        }
      </tbody>
    </table>
  </div>

  <div class="history-section">
    <h2>Approved Requests</h2>
    <table>
      <thead>
        <tr>
          <th>Employee</th>
          <th>Start Date</th>
          <th>End Date</th>
          <th>Reason</th>
        </tr>
      </thead>
      <tbody>
        @for (request of approvedRequests(); track request.id) {
          <tr>
            <td>{{ request.employeeName }}</td>
            <td>{{ request.startDate | date:'shortDate' }}</td>
            <td>{{ request.endDate | date:'shortDate' }}</td>
            <td>{{ request.reason }}</td>
          </tr>
        }
      </tbody>
    </table>

    <h2>Rejected Requests</h2>
    <table>
      <thead>
        <tr>
          <th>Employee</th>
          <th>Start Date</th>
          <th>End Date</th>
          <th>Reason</th>
        </tr>
      </thead>
      <tbody>
        @for (request of rejectedRequests(); track request.id) {
          <tr>
            <td>{{ request.employeeName }}</td>
            <td>{{ request.startDate | date:'shortDate' }}</td>
            <td>{{ request.endDate | date:'shortDate' }}</td>
            <td>{{ request.reason }}</td>
          </tr>
        }
      </tbody>
    </table>
  </div>
</div>
